require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var s=e[n]=new t.Module(n);r[n][0].call(s.exports,i,s,s.exports)}return e[n].exports}function o(r){this.id=r,this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.isParcelRequire=!0,t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({6:[function(require,module,exports) {

},{}],72:[function(require,module,exports) {
!function(n,t,e){function s(n,t){return t.c=n.c,t.s0=n.s0,t.s1=n.s1,t.s2=n.s2,t}function r(n,t){var e=new function(n){var t,e=this,s=(t=4022871197,function(n){n=n.toString();for(var e=0;e<n.length;e++){var s=.02519603282416938*(t+=n.charCodeAt(e));s-=t=s>>>0,t=(s*=t)>>>0,t+=4294967296*(s-=t)}return 2.3283064365386963e-10*(t>>>0)});e.next=function(){var n=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=n-(e.c=0|n)},e.c=1,e.s0=s(" "),e.s1=s(" "),e.s2=s(" "),e.s0-=s(n),e.s0<0&&(e.s0+=1),e.s1-=s(n),e.s1<0&&(e.s1+=1),e.s2-=s(n),e.s2<0&&(e.s2+=1),s=null}(n),r=t&&t.state,o=e.next;return o.int32=function(){return 4294967296*e.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,e),o.state=function(){return s(e,{})}),o}t&&t.exports?t.exports=r:e&&e.amd?e(function(){return r}):this.alea=r}(0,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],73:[function(require,module,exports) {
!function(t,n,e){function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function r(t,n){var e=new function(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var o=0;o<e.length+64;o++)n.x^=0|e.charCodeAt(o),n.next()}(t),r=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,r&&("object"==typeof r&&o(r,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=r:e&&e.amd?e(function(){return r}):this.xor128=r}(0,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],74:[function(require,module,exports) {
!function(t,n,e){function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function r(t,n){var e=new function(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var o=0;o<e.length+64;o++)n.x^=0|e.charCodeAt(o),o==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}(t),r=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,r&&("object"==typeof r&&o(r,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=r:e&&e.amd?e(function(){return r}):this.xorwow=r}(0,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],75:[function(require,module,exports) {
!function(n,t,e){function r(n,t){return t.x=n.x.slice(),t.i=n.i,t}function i(n,t){null==n&&(n=+new Date);var e=new function(n){var t=this;t.next=function(){var n,e,r=t.x,i=t.i;return n=r[i],e=(n^=n>>>7)^n<<24,e^=(n=r[i+1&7])^n>>>10,e^=(n=r[i+3&7])^n>>>3,e^=(n=r[i+4&7])^n<<7,n=r[i+7&7],e^=(n^=n<<13)^n<<9,r[i]=e,t.i=i+1&7,e},function(n,t){var e,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,e=0;e<t.length;++e)r[7&e]=r[7&e]<<15^t.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],n.x=r,n.i=0,e=256;e>0;--e)n.next()}(t,n)}(n),i=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,i&&(i.x&&r(i,e),o.state=function(){return r(e,{})}),o}t&&t.exports?t.exports=i:e&&e.amd?e(function(){return i}):this.xorshift7=i}(0,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],76:[function(require,module,exports) {
!function(n,t,e){function r(n,t){return t.i=n.i,t.w=n.w,t.X=n.X.slice(),t}function i(n,t){null==n&&(n=+new Date);var e=new function(n){var t=this;t.next=function(){var n,e,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,e=i[o+34&127],n=i[o=o+1&127],e^=e<<13,n^=n<<17,e^=e>>>15,n^=n>>>12,e=i[o]=e^n,t.i=o,e+(r^r>>>16)|0},function(n,t){var e,r,i,o,u,f=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),i=0,o=-32;o<c;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(u=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(u=u+1640531527|0,i=0==(e=f[127&o]^=r+u)?i+1:0);for(i>=128&&(f[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=f[i+34&127],e=f[i=i+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,f[i]=r^e;n.w=u,n.X=f,n.i=i}(t,n)}(n),i=t&&t.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var n=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=e.next,o.quick=o,i&&(i.X&&r(i,e),o.state=function(){return r(e,{})}),o}t&&t.exports?t.exports=i:e&&e.amd?e(function(){return i}):this.xor4096=i}(0,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],77:[function(require,module,exports) {
!function(t,n,e){function o(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function r(t,n){var e=new function(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,o=n.d,r=n.a;return t=t<<25^t>>>7^e,e=e-o|0,o=o<<24^o>>>8^r,r=r-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-o|0,n.d=o<<16^e>>>16^r,n.a=r-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var o=0;o<e.length+20;o++)n.b^=0|e.charCodeAt(o),n.next()}(t),r=n&&n.state,u=function(){return(e.next()>>>0)/4294967296};return u.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},u.int32=e.next,u.quick=u,r&&("object"==typeof r&&o(r,e),u.state=function(){return o(e,{})}),u}n&&n.exports?n.exports=r:e&&e.amd?e(function(){return r}):this.tychei=r}(0,"object"==typeof module&&module,"function"==typeof define&&define);
},{}],71:[function(require,module,exports) {
var global = (1,eval)("this");
var n=(0,eval)("this");!function(n,r){var t,e=this,o=256,i=6,u="random",a=r.pow(o,i),f=r.pow(2,52),c=2*f,s=o-1;function l(l,h,y){var v=[],m=d(function n(r,t){var e,o=[],i=typeof r;if(t&&"object"==i)for(e in r)try{o.push(n(r[e],t-1))}catch(n){}return o.length?o:"string"==i?r:r+"\0"}((h=1==h?{entropy:!0}:h||{}).entropy?[l,g(n)]:null==l?function(){try{var r;return t&&(r=t.randomBytes)?r=r(o):(r=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(r)),g(r)}catch(r){var i=e.navigator,u=i&&i.plugins;return[+new Date,e,u,e.screen,g(n)]}}():l,3),v),j=new function(n){var r,t=n.length,e=this,i=0,u=e.i=e.j=0,a=e.S=[];t||(n=[t++]);for(;i<o;)a[i]=i++;for(i=0;i<o;i++)a[i]=a[u=s&u+n[i%t]+(r=a[i])],a[u]=r;(e.g=function(n){for(var r,t=0,i=e.i,u=e.j,a=e.S;n--;)r=a[i=s&i+1],t=t*o+a[s&(a[i]=a[u=s&u+r])+(a[u]=r)];return e.i=i,e.j=u,t})(o)}(v),S=function(){for(var n=j.g(i),r=a,t=0;n<f;)n=(n+t)*o,r*=o,t=j.g(1);for(;n>=c;)n/=2,r/=2,t>>>=1;return(n+t)/r};return S.int32=function(){return 0|j.g(4)},S.quick=function(){return j.g(4)/4294967296},S.double=S,d(g(j.S),n),(h.pass||y||function(n,t,e,o){return o&&(o.S&&p(o,j),n.state=function(){return p(j,{})}),e?(r[u]=n,t):n})(S,m,"global"in h?h.global:this==r,h.state)}function p(n,r){return r.i=n.i,r.j=n.j,r.S=n.S.slice(),r}function d(n,r){for(var t,e=n+"",o=0;o<e.length;)r[s&o]=s&(t^=19*r[s&o])+e.charCodeAt(o++);return g(r)}function g(n){return String.fromCharCode.apply(0,n)}if(r["seed"+u]=l,d(r.random(),n),"object"==typeof module&&module.exports){module.exports=l;try{t=require("crypto")}catch(n){}}else"function"==typeof define&&define.amd&&define(function(){return l})}([],Math);
},{"crypto":6}],70:[function(require,module,exports) {
var r=require("./lib/alea"),e=require("./lib/xor128"),i=require("./lib/xorwow"),o=require("./lib/xorshift7"),l=require("./lib/xor4096"),x=require("./lib/tychei"),u=require("./seedrandom");u.alea=r,u.xor128=e,u.xorwow=i,u.xorshift7=o,u.xor4096=l,u.tychei=x,module.exports=u;
},{"./lib/alea":72,"./lib/xor128":73,"./lib/xorwow":74,"./lib/xorshift7":75,"./lib/xor4096":76,"./lib/tychei":77,"./seedrandom":71}],10:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ππ=exports.sqrt=exports.sin=exports.round=exports.π=exports.min=exports.max=exports.hypot=exports.floor=exports.cos=exports.atan2=exports.acos=exports.abs=exports.random=void 0,exports.lerp=m,exports.randomBool=b,exports.saw=v,exports.tri=q,exports.toDegrees=y,exports.toRadians=_;var t=require("seedrandom"),r=o(t);function o(t){return t&&t.__esModule?t:{default:t}}var e=exports.random=(0,r.default)("fart.ts"),s=Math.abs,a=Math.acos,p=Math.atan2,n=Math.cos,x=Math.floor,u=Math.hypot,i=Math.max,h=Math.min,c=Math.PI,d=Math.round,M=Math.sin,f=Math.sqrt;exports.abs=s,exports.acos=a,exports.atan2=p,exports.cos=n,exports.floor=x,exports.hypot=u,exports.max=i,exports.min=h,exports.π=c,exports.round=d,exports.sin=M,exports.sqrt=f;var l=exports.ππ=2*c;function m(t,r,o){return r+(t-r)*o}function b(){return 1===d(e())}function v(t){return t%l/c-1}function q(t){return 1-2*Math.abs(v(t))}function y(t){return 180*t/c}function _(t){return t*c/180}
},{"seedrandom":70}],14:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.scale=exports.rotate=exports.normalize=exports.limit=exports.lerp=exports.fromPolar=exports.clone=exports.angleBetween=exports.add=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("../math");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,r),this.x=e,this.y=t}return e(r,[{key:"ρ2",get:function(){return this.x*this.x+this.y*this.y}},{key:"ρ",get:function(){return(0,t.hypot)(this.x,this.y)}},{key:"θ",get:function(){return(0,t.atan2)(this.y,this.x)}}],[{key:"add",value:function(e,t){return new r(e.x+t.x,e.y+t.y)}},{key:"sub",value:function(e,t){return new r(e.x-t.x,e.y-t.y)}},{key:"scale",value:function(e,t){return new r(e.x*t,e.y*t)}},{key:"lerp",value:function(e,t,n){return new r(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)}},{key:"clone",value:function(e){return new r(e.x,e.y)}},{key:"normalize",value:function(e){var t=0===e.ρ?1:e.ρ;return r.scale(e,1/t)}},{key:"limit",value:function(e,t){return e.ρ>t?r.scale(r.normalize(e),t):r.clone(e)}},{key:"angleBetween",value:function(e,n,r){var o=f(e,n),a=f(e,r);return(0,t.atan2)(o.x*a.y-o.y*a.x,o.x*a.x+o.y*a.y)}},{key:"rotate",value:function(e,n,o){var a=f(e,n);return new r(a.x*(0,t.cos)(o)-a.y*(0,t.sin)(o)+n.x,a.x*(0,t.sin)(o)+a.y*(0,t.cos)(o)+n.y)}},{key:"fromPolar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new r((0,t.cos)(e)*n,(0,t.sin)(e)*n)}},{key:"one",get:function(){return new r(1,1)}},{key:"zero",get:function(){return new r}}]),r}();exports.default=r;var o=r.add,a=r.angleBetween,i=r.clone,u=r.fromPolar,l=r.lerp,s=r.limit,c=r.normalize,x=r.rotate,y=r.scale,f=r.sub;exports.add=o,exports.angleBetween=a,exports.clone=i,exports.fromPolar=u,exports.lerp=l,exports.limit=s,exports.normalize=c,exports.rotate=x,exports.scale=y,exports.sub=f;
},{"../math":10}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),r=require("../geom/vec2");function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var s=function(){function s(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,r.sub)(e.currPos,n.currPos).ρ;t(this,s),this.a=e,this.b=n,this.stiffness=i,this.restLength=u}return e(s,[{key:"update",value:function(e,t){var s=1/t,n=(0,r.sub)(this.a.currPos,this.b.currPos),i=n.ρ+Number.EPSILON,u=(this.restLength-i)/i*this.stiffness*s,o=(0,r.scale)(n,u);this.a.currPos.x+=o.x,this.a.currPos.y+=o.y,this.b.currPos.x-=o.x,this.b.currPos.y-=o.y}}]),s}();exports.default=s;
},{"../geom/vec2":14}],15:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WheelEventType=exports.MouseEventType=void 0;var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),t=require("../geom/vec2"),n=o(t);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=exports.MouseEventType=void 0;!function(e){e.MouseEnter="mouseenter",e.MouseLeave="mouseleave",e.MouseMove="mousemove",e.MouseDown="mousedown",e.MouseUp="mouseup"}(r||(exports.MouseEventType=r={}));var u=exports.WheelEventType=void 0;!function(e){e.Wheel="wheel"}(u||(exports.WheelEventType=u={}));var i=function(){function o(e){var i=this;s(this,o),this.eventTarget=e,this.prevPos=new n.default,this.currPos=new n.default,this.isDown=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.wheel=new n.default,this.onMouse=function(e){e.stopPropagation(),e.preventDefault(),o.isMouseEvent(e)&&(e.type===r.MouseEnter&&(i.currPos=new n.default(e.clientX,e.clientY)),e.type===r.MouseDown&&(i.isDown=!0),e.type===r.MouseUp&&(i.isDown=!1),i.prevPos=(0,t.clone)(i.currPos),i.currPos=new n.default(e.clientX,e.clientY),i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.metaKey=e.metaKey,i.shiftKey=e.shiftKey)},this.onWheel=function(e){e.stopPropagation(),e.preventDefault(),o.isWheelEvent(e)&&(i.wheel=new n.default(e.deltaX,e.deltaY))},Object.values(r).forEach(function(t){e.addEventListener(t,i.onMouse)}),Object.values(u).forEach(function(t){e.addEventListener(t,i.onWheel)})}return e(o,[{key:"currVel",get:function(){return(0,t.sub)(this.currPos,this.prevPos)}}],[{key:"isMouseEvent",value:function(e){return e instanceof MouseEvent}},{key:"isWheelEvent",value:function(e){return e instanceof WheelEvent}}]),o}();exports.default=i;
},{"../geom/vec2":14}],16:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e(this,n),this.particles=t,this.constraints=r}return t(n,[{key:"update",value:function(t,e){this.particles.forEach(function(n){return n.update(t,e)});for(var n=0;n<10;++n)this.constraints.forEach(function(n){return n.update(t,e)})}}]),n}();exports.default=n;
},{}],11:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getWaveFn=t,exports.getStepFn=n,exports.getSinFn=o,exports.getCosFn=r;var e=require("./math");function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,v=(r-o)/2,g=e.ππ/n;return function(e){return v*(1+t((i+e)*g))+o}}function n(e){var n=t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0);return function(e){return Math.floor(n(e))}}function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t(e.sin,n,o,r,i)}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t(e.cos,n,o,r,i)}
},{"./math":10}],12:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=window,t=e.cancelAnimationFrame,a=e.requestAnimationFrame;exports.cAF=t,exports.rAF=a;var n=exports.canvas=document.getElementById("canvas"),o=exports.canvasContext=n.getContext("2d"),r=exports.buffer=document.createElement("canvas"),s=exports.bufferContext=r.getContext("2d"),i=exports.stageScale=1,g=exports.stageWidth=n.clientWidth/i,x=exports.stageHeight=n.clientHeight/i,c=exports.stageCenterX=g/2,d=exports.stageCenterY=x/2;n.width=r.width=g,n.height=r.height=x,o.imageSmoothingEnabled=s.imageSmoothingEnabled=!1;
},{}],68:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function r(r,t){for(var s=0;s<t.length;s++){var e=t[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(t,s,e){return s&&r(t.prototype,s),e&&r(t,e),t}}(),t=require("../geom/vec2"),s=require("../math");function e(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function o(r,s,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,t.angleBetween)(s.currPos,r.currPos,i.currPos);e(this,o),this.a=r,this.b=s,this.c=i,this.stiffness=u,this.restAngle=c}return r(o,[{key:"update",value:function(r,e){var o=1/e,i=(0,t.angleBetween)(this.b.currPos,this.a.currPos,this.c.currPos)-this.restAngle;i<=-s.π?i+=s.ππ:i>=s.π&&(i-=s.ππ),i*=o*this.stiffness;var u=(0,t.rotate)(this.a.currPos,this.b.currPos,i),c=(0,t.rotate)(this.c.currPos,this.b.currPos,-i),n=(0,t.rotate)(this.b.currPos,this.a.currPos,i),a=(0,t.rotate)(this.b.currPos,this.c.currPos,-i);this.a.currPos.x=u.x,this.a.currPos.y=u.y,this.c.currPos.x=c.x,this.c.currPos.y=c.y,this.b.currPos.x=n.x,this.b.currPos.y=n.y,this.b.currPos.x=a.x,this.b.currPos.y=a.y}}]),o}();exports.default=o;
},{"../geom/vec2":14,"../math":10}],67:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),e=require("./vec2"),n=o(e);function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.default,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,e.add)(t,new n.default(10,10));r(this,o),this.topLeft=t,this.bottomRight=i}return t(o,[{key:"y",get:function(){return this.topLeft.y}},{key:"x",get:function(){return this.topLeft.x}},{key:"width",get:function(){return(0,e.sub)(this.bottomRight,this.topLeft).x}},{key:"height",get:function(){return(0,e.sub)(this.bottomRight,this.topLeft).y}},{key:"top",get:function(){return this.topLeft.y}},{key:"left",get:function(){return this.topLeft.x}},{key:"right",get:function(){return this.bottomRight.x}},{key:"bottom",get:function(){return this.bottomRight.y}}]),o}();exports.default=i;
},{"./vec2":14}],69:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../geom/rect"),r=o(t),n=require("../math");function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.default;i(this,t),this.particles=e,this.bounds=n}return e(t,[{key:"update",value:function(e,t){var r=this.bounds;this.particles.forEach(function(e){var t=e.currPos,o=e.prevPos,i=r.left<t.x&&t.x<r.right,u=r.top<t.y&&t.y<r.bottom;i&&u||(t.x=o.x=(0,n.min)((0,n.max)(r.left,t.x),r.right),t.y=o.y=(0,n.min)((0,n.max)(r.top,t.y),r.bottom))})}}]),t}();exports.default=u;
},{"../geom/rect":67,"../math":10}],62:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),n=require("../geom/vec2");function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function(){function t(e){r(this,t),this.pin=e}return e(t,[{key:"update",value:function(e,r,t){return(0,n.sub)(this.pin(r),e.currPos)}}]),t}();exports.default=t;
},{"../geom/vec2":14}],63:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r=require("../geom/vec2"),t=n(r);function n(e){return e&&e.__esModule?e:{default:e}}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.default.zero,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.clone)(e),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];u(this,n),this.currPos=e,this.prevPos=o,this.behaviors=i}return e(n,[{key:"ipos",value:function(e){return(0,r.lerp)(this.currPos,this.prevPos,e)}},{key:"update",value:function(e,t){var n=this.currPos,u=(0,r.limit)(this.nextVel(e,t),3);this.prevPos=(0,r.clone)(n),this.currPos=(0,r.add)(n,u)}},{key:"nextVel",value:function(e,t){var n=this,u=this.behaviors,o=this.currVel;return u.reduce(function(u,o){return(0,r.add)(u,o.update(n,e,t))},o)}},{key:"currVel",get:function(){return(0,r.sub)(this.currPos,this.prevPos)}}]),n}();exports.default=o;
},{"../geom/vec2":14}],64:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function(){function t(e){n(this,t),this.constantForce=e}return e(t,[{key:"update",value:function(e,n,t){return this.constantForce}}]),t}();exports.default=t;
},{}],65:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r=require("../geom/vec2"),t=n(r);function n(e){return e&&e.__esModule?e:{default:e}}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var a=function(){function n(e){u(this,n),this.drag=e}return e(n,[{key:"update",value:function(e,n,u){return(0,r.sub)(t.default.zero,(0,r.scale)(e.currVel,this.drag))}}]),n}();exports.default=a;
},{"../geom/vec2":14}],66:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r=require("../geom/vec2"),t=n(r);function n(e){return e&&e.__esModule?e:{default:e}}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(e,r){u(this,n),this.ground=e,this.friction=r}return e(n,[{key:"update",value:function(e,n,u){return e.currPos.y>=this.ground?(0,r.sub)(t.default.zero,(0,r.scale)(e.currVel,this.friction)):t.default.zero}}]),n}();exports.default=o;
},{"../geom/vec2":14}],18:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ankleMoveRadiusY=exports.ankleMoveRadiusX=exports.wristMoveRadiusY=exports.wristMoveRadiusX=exports.p=exports.commonBehaviors=exports.calfLength=exports.thighLength=exports.forearmLength=exports.upperArmLength=exports.torsoRadius=exports.o=exports.origin=exports.drag=exports.friction=exports.gravity=exports.bounds=void 0;var e=require("../../lib/behaviors/constant-force-behavior"),r=d(e),t=require("../../lib/behaviors/drag-behavior"),o=d(t),s=require("../../lib/behaviors/ground-behavior"),i=d(s),a=require("../../lib/canvas"),p=require("../../lib/geom/rect"),n=d(p),u=require("../../lib/geom/vec2"),x=d(u);function d(e){return e&&e.__esModule?e:{default:e}}var g=exports.bounds=new n.default(new x.default(10,10),new x.default(a.stageWidth-10,a.stageHeight-10)),l=exports.gravity=new x.default(0,.2),v=exports.friction=.1,h=exports.drag=.01,f=exports.origin=new x.default(a.stageCenterX,a.stageCenterY),b=exports.o=new x.default(f.x,f.y+180),c=exports.torsoRadius=54,w=exports.upperArmLength=49,m=exports.forearmLength=77,M=exports.thighLength=84,R=exports.calfLength=85,L=exports.commonBehaviors=[new r.default(l),new i.default(g.bottom,v),new o.default(h)],q=exports.p=2500,X=exports.wristMoveRadiusX=30,Y=exports.wristMoveRadiusY=45,k=exports.ankleMoveRadiusX=75,y=exports.ankleMoveRadiusY=60;
},{"../../lib/behaviors/constant-force-behavior":64,"../../lib/behaviors/drag-behavior":65,"../../lib/behaviors/ground-behavior":66,"../../lib/canvas":12,"../../lib/geom/rect":67,"../../lib/geom/vec2":14}],20:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rHip=exports.lHip=void 0;var e=require("../../lib/geom/vec2"),r=require("../../lib/math"),o=require("../../lib/physics/particle"),i=s(o),t=require("./config");function s(e){return e&&e.__esModule?e:{default:e}}var a=exports.lHip=new i.default((0,e.add)(t.o,(0,e.fromPolar)(.25*r.π,t.torsoRadius)),void 0,t.commonBehaviors),d=exports.rHip=new i.default((0,e.add)(t.o,(0,e.fromPolar)(.75*r.π,t.torsoRadius)),void 0,t.commonBehaviors);
},{"../../lib/geom/vec2":14,"../../lib/math":10,"../../lib/physics/particle":63,"./config":18}],21:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lKnee=exports.rKnee=void 0;var e=require("../../lib/geom/vec2"),r=require("../../lib/math"),o=require("../../lib/physics/particle"),i=u(o),t=require("./config"),s=require("./hips");function u(e){return e&&e.__esModule?e:{default:e}}var l=exports.rKnee=new i.default((0,e.add)(s.rHip.currPos,(0,e.fromPolar)(.55*r.π,t.thighLength)),void 0,t.commonBehaviors),n=exports.lKnee=new i.default((0,e.add)(s.lHip.currPos,(0,e.fromPolar)(.45*r.π,t.thighLength)),void 0,t.commonBehaviors);
},{"../../lib/geom/vec2":14,"../../lib/math":10,"../../lib/physics/particle":63,"./config":18,"./hips":20}],17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rAnkle=exports.lAnkle=void 0;var e=require("../../lib/behaviors/pin-behavior"),r=s(e),n=require("../../lib/geom/vec2"),a=s(n),o=require("../../lib/math"),i=require("../../lib/physics/particle"),t=s(i),u=require("../../lib/wave"),l=require("./config"),d=require("./knees");function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)}var c=(0,n.add)(d.lKnee.currPos,(0,n.fromPolar)(.45*o.π,l.calfLength)),v=(0,u.getSinFn)(l.p),p=(0,u.getCosFn)(l.p),k=(0,n.add)(d.rKnee.currPos,(0,n.fromPolar)(.55*o.π,l.calfLength)),b=(0,u.getSinFn)(l.p,-1,1,l.p/2),g=(0,u.getCosFn)(l.p,-1,1,l.p/2),h=exports.lAnkle=new t.default(c,void 0,[].concat(f(l.commonBehaviors),[new r.default(function(e){return(0,n.add)((0,n.sub)(c,new a.default(0,l.ankleMoveRadiusY/2)),new a.default(v(e)*l.ankleMoveRadiusX,p(e)*l.ankleMoveRadiusY))})])),m=exports.rAnkle=new t.default(k,void 0,[].concat(f(l.commonBehaviors),[new r.default(function(e){return(0,n.add)((0,n.sub)(k,new a.default(0,l.ankleMoveRadiusY/2)),new a.default(b(e)*l.ankleMoveRadiusX,g(e)*l.ankleMoveRadiusY))})]));
},{"../../lib/behaviors/pin-behavior":62,"../../lib/geom/vec2":14,"../../lib/math":10,"../../lib/physics/particle":63,"../../lib/wave":11,"./config":18,"./knees":21}],22:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lShoulder=exports.rShoulder=void 0;var r=require("../../lib/behaviors/pin-behavior"),o=d(r),e=require("../../lib/geom/vec2"),a=require("../../lib/math"),t=require("../../lib/physics/particle"),i=d(t),u=require("./config");function d(r){return r&&r.__esModule?r:{default:r}}function n(r){if(Array.isArray(r)){for(var o=0,e=Array(r.length);o<r.length;o++)e[o]=r[o];return e}return Array.from(r)}var l=exports.rShoulder=new i.default((0,e.add)(u.o,(0,e.fromPolar)(1.25*a.π,u.torsoRadius)),void 0,[].concat(n(u.commonBehaviors),[new o.default(function(){return(0,e.add)(u.o,(0,e.fromPolar)(1.25*a.π,u.torsoRadius))})])),s=exports.lShoulder=new i.default((0,e.add)(u.o,(0,e.fromPolar)(1.75*a.π,u.torsoRadius)),void 0,[].concat(n(u.commonBehaviors),[new o.default(function(){return(0,e.add)(u.o,(0,e.fromPolar)(1.75*a.π,u.torsoRadius))})]));
},{"../../lib/behaviors/pin-behavior":62,"../../lib/geom/vec2":14,"../../lib/math":10,"../../lib/physics/particle":63,"./config":18}],19:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lElbow=exports.rElbow=void 0;var e=require("../../lib/geom/vec2"),r=require("../../lib/math"),o=require("../../lib/physics/particle"),l=t(o),u=require("./config"),i=require("./shoulders");function t(e){return e&&e.__esModule?e:{default:e}}var s=exports.rElbow=new l.default((0,e.add)(i.rShoulder.currPos,(0,e.fromPolar)(.65*r.π,u.upperArmLength)),void 0,u.commonBehaviors),d=exports.lElbow=new l.default((0,e.add)(i.lShoulder.currPos,(0,e.fromPolar)(.35*r.π,u.upperArmLength)),void 0,u.commonBehaviors);
},{"../../lib/geom/vec2":14,"../../lib/math":10,"../../lib/physics/particle":63,"./config":18,"./shoulders":22}],23:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lWrist=exports.rWrist=void 0;var e=require("../../lib/behaviors/pin-behavior"),r=l(e),i=require("../../lib/geom/vec2"),t=l(i),o=require("../../lib/math"),a=require("../../lib/physics/particle"),u=l(a),n=require("../../lib/wave"),s=require("./config"),d=require("./elbows");function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var r=0,i=Array(e.length);r<e.length;r++)i[r]=e[r];return i}return Array.from(e)}var p=(0,i.add)(d.lElbow.currPos,(0,i.fromPolar)(.35*o.π,s.forearmLength)),v=(0,n.getSinFn)(s.p,-1,1,s.p/5),c=(0,n.getCosFn)(s.p,-1,1,s.p/5),w=(0,i.add)(d.rElbow.currPos,(0,i.fromPolar)(.65*o.π,s.forearmLength)),b=(0,n.getSinFn)(s.p,-1,1,s.p/2+s.p/5),m=(0,n.getCosFn)(s.p,-1,1,s.p/2+s.p/5),g=exports.rWrist=new u.default(w,void 0,[].concat(f(s.commonBehaviors),[new r.default(function(e){return(0,i.add)((0,i.sub)(w,new t.default(0,s.wristMoveRadiusY/2)),new t.default(v(e)*s.wristMoveRadiusX,c(e)*s.wristMoveRadiusY))})])),h=exports.lWrist=new u.default(p,void 0,[].concat(f(s.commonBehaviors),[new r.default(function(e){return(0,i.add)((0,i.sub)(p,new t.default(0,s.wristMoveRadiusY/2)),new t.default(b(e)*s.wristMoveRadiusX,m(e)*s.wristMoveRadiusY))})]));
},{"../../lib/behaviors/pin-behavior":62,"../../lib/geom/vec2":14,"../../lib/math":10,"../../lib/physics/particle":63,"../../lib/wave":11,"./config":18,"./elbows":19}],60:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.puppetConstraints=exports.puppetParticles=void 0;var e=require("../../lib/constraints/angular-constraint"),l=f(e),r=require("../../lib/constraints/bounds-constraint"),n=f(r),t=require("../../lib/constraints/distance-constraint"),u=f(t),i=require("./ankles"),o=require("./config"),d=require("./elbows"),a=require("./hips"),s=require("./knees"),p=require("./shoulders"),w=require("./wrists");function f(e){return e&&e.__esModule?e:{default:e}}var h=exports.puppetParticles=[p.rShoulder,p.lShoulder,a.lHip,a.rHip,w.rWrist,d.rElbow,i.rAnkle,s.rKnee,w.lWrist,d.lElbow,i.lAnkle,s.lKnee],b=exports.puppetConstraints=[new u.default(p.rShoulder,a.lHip),new u.default(p.lShoulder,a.rHip),new u.default(p.rShoulder,p.lShoulder),new u.default(a.lHip,a.rHip),new u.default(p.lShoulder,a.lHip),new u.default(a.rHip,p.rShoulder),new u.default(p.rShoulder,d.rElbow),new u.default(d.rElbow,w.rWrist),new u.default(p.lShoulder,d.lElbow),new u.default(d.lElbow,w.lWrist),new u.default(a.rHip,s.rKnee),new u.default(s.rKnee,i.rAnkle),new u.default(a.lHip,s.lKnee),new u.default(s.lKnee,i.lAnkle),new l.default(w.rWrist,d.rElbow,p.rShoulder,.01),new l.default(w.lWrist,d.lElbow,p.lShoulder,.01),new l.default(d.rElbow,p.rShoulder,a.rHip,.01),new l.default(d.lElbow,p.lShoulder,a.lHip,.01),new l.default(i.rAnkle,s.rKnee,a.rHip,.01),new l.default(s.rKnee,a.rHip,p.rShoulder,.01),new l.default(i.lAnkle,s.lKnee,a.lHip,.01),new l.default(s.lKnee,a.lHip,p.lShoulder,.01),new n.default(h,o.bounds)];
},{"../../lib/constraints/angular-constraint":68,"../../lib/constraints/bounds-constraint":69,"../../lib/constraints/distance-constraint":13,"./ankles":17,"./config":18,"./elbows":19,"./hips":20,"./knees":21,"./shoulders":22,"./wrists":23}],24:[function(require,module,exports) {
module.exports="06cee1986f284c2f6cc772b4e129baa5.png";
},{}],25:[function(require,module,exports) {
module.exports="9632ebaf4e2a18425995507acb3bc0ac.png";
},{}],26:[function(require,module,exports) {
module.exports="f3e24a2ed738935bdf2e5b24dfad812e.png";
},{}],27:[function(require,module,exports) {
module.exports="6b4b0378c0091b98bef8cc3b0ba8dda5.png";
},{}],28:[function(require,module,exports) {
module.exports="208eed2cb091eeb4924d7151bcae27d8.png";
},{}],29:[function(require,module,exports) {
module.exports="e2047d8c4f4c8ae731f5dc91c5bca672.png";
},{}],30:[function(require,module,exports) {
module.exports="94054fb19ae9349f91cf17dccee088d6.png";
},{}],31:[function(require,module,exports) {
module.exports="b3a2c83cce9f3eb7331ba639baa20c30.png";
},{}],32:[function(require,module,exports) {
module.exports="495cf44abf4838877aafe3a6fab9ae0f.png";
},{}],33:[function(require,module,exports) {
module.exports="b91f8cce837aed9fa3d29d1be0ea1a90.png";
},{}],7:[function(require,module,exports) {
module.exports="e45ee4c7a652354c42d538118c9ab5d0.png";
},{}],8:[function(require,module,exports) {
module.exports="2bbbd3cc56d83f652db1992f0bf3a88c.png";
},{}],4:[function(require,module,exports) {
"use strict";var e=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],o=!0,n=!1,u=void 0;try{for(var a,f=e[Symbol.iterator]();!(o=(a=f.next()).done)&&(t.push(a.value),!r||t.length!==r);o=!0);}catch(e){n=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(n)throw u}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();require("./style.scss");var r=require("./lib/constraints/distance-constraint"),t=B(r),o=require("./lib/geom/vec2"),n=require("./lib/input/mouse"),u=B(n),a=require("./lib/math"),f=require("./lib/physics/aggregate"),i=B(f),l=require("./lib/wave"),s=require("./lib/canvas"),m=require("./game/puppet"),c=require("./game/puppet/ankles"),p=require("./game/puppet/config"),b=require("./game/puppet/elbows"),g=require("./game/puppet/hips"),d=require("./game/puppet/knees"),h=require("./game/puppet/shoulders"),x=require("./game/puppet/wrists"),C=require("./images/moon-body/small/l-calf.png"),y=B(C),q=require("./images/moon-body/small/l-foot.png"),v=B(q),P=require("./images/moon-body/small/l-forearm.png"),w=B(P),F=require("./images/moon-body/small/l-thigh.png"),k=B(F),A=require("./images/moon-body/small/l-upper-arm.png"),E=B(A),S=require("./images/moon-body/small/r-calf.png"),T=B(S),I=require("./images/moon-body/small/r-foot.png"),K=B(I),H=require("./images/moon-body/small/r-forearm.png"),U=B(H),W=require("./images/moon-body/small/r-thigh.png"),j=B(W),L=require("./images/moon-body/small/r-upper-arm.png"),O=B(L),_=require("./images/moon-faces-small.png"),M=B(_),R=require("./images/moon-phases-small.png"),z=B(R);function B(e){return e&&e.__esModule?e:{default:e}}var D=!1,G={},J=(0,l.getStepFn)(a.saw,5e3,0,9),N=0,Q=0;function V(){Q=(0,a.floor)(5*(0,a.random)()),setTimeout(V,500+(0,a.floor)(500*(0,a.random)()))}V();var X=new u.default(document),Y=new i.default(m.puppetParticles,m.puppetConstraints);function Z(e,r){Y.update(e,r)}function $(e){s.bufferContext.fillStyle="#888",s.bufferContext.fillRect(0,0,s.stageWidth,s.stageHeight),s.bufferContext.strokeStyle="#eff",s.bufferContext.beginPath(),s.bufferContext.rect(p.bounds.x,p.bounds.y,p.bounds.width,p.bounds.height),s.bufferContext.closePath(),s.bufferContext.stroke(),[{from:c.rAnkle,to:d.rKnee,img:G.rFoot},{from:c.lAnkle,to:d.lKnee,img:G.lFoot},{from:b.rElbow,to:x.rWrist,img:G.rForearm},{from:b.lElbow,to:x.lWrist,img:G.lForearm},{from:g.rHip,to:d.rKnee,img:G.rThigh},{from:g.lHip,to:d.lKnee,img:G.lThigh},{from:d.rKnee,to:c.rAnkle,img:G.rCalf},{from:d.lKnee,to:c.lAnkle,img:G.lCalf},{from:h.rShoulder,to:b.rElbow,img:G.rUpper},{from:h.lShoulder,to:b.lElbow,img:G.lUpper}].forEach(function(e){var r=e.from,t=e.to,n=e.img;s.bufferContext.save(),s.bufferContext.translate(r.currPos.x-n.width/2,r.currPos.y);var u=(0,o.sub)(r.currPos,t.currPos).θ;n===G.lFoot||n===G.rFoot?u-=a.π/2:u+=a.π/2,s.bufferContext.rotate(u),s.bufferContext.drawImage(n,0,0),s.bufferContext.restore()});var r=(0,o.add)(g.rHip.currPos,(0,o.scale)((0,o.sub)(h.lShoulder.currPos,g.rHip.currPos),.5));s.bufferContext.save(),s.bufferContext.translate(r.x-54,r.y-54),s.bufferContext.drawImage(G.phases,145*N,0,108,108,0,0,108,108),s.bufferContext.drawImage(G.faces,145*N,140*Q,108,108,0,0,108,108),s.bufferContext.restore(),D&&(Y.constraints.filter(function(e){return e instanceof t.default}).forEach(function(e){var r=e.a,t=e.b;s.bufferContext.save(),s.bufferContext.strokeStyle="#777",s.bufferContext.beginPath(),s.bufferContext.moveTo(r.currPos.x,r.currPos.y),s.bufferContext.lineTo(t.currPos.x,t.currPos.y),s.bufferContext.closePath(),s.bufferContext.stroke(),s.bufferContext.restore()}),Y.particles.forEach(function(e){s.bufferContext.save(),s.bufferContext.strokeStyle=(0,o.sub)(X.currPos,e.currPos).ρ<20?"#f66":"#222",s.bufferContext.beginPath(),s.bufferContext.arc(e.currPos.x,e.currPos.y,5,0,a.ππ),s.bufferContext.closePath(),s.bufferContext.stroke(),s.bufferContext.restore()})),s.canvasContext.drawImage(s.buffer,0,0)}var ee=1e3/60,re=0,te=-1,oe=0,ne=0,ue=0,ae=0;function fe(e){for(te=(0,s.rAF)(fe),ae=(ue=e-oe)-ne,ne=ue,re+=ae,re=(0,a.min)(re,1e3);re>=ee;)Z(ue,ee),re-=ee;N=J(e),$(re/ee)}function ie(){te=(0,s.rAF)(function(e){oe=e,ne=0,re=0,te=(0,s.rAF)(fe)})}function le(){(0,s.cAF)(te),te=-1}document.addEventListener("keyup",function(e){D=!D}),Promise.all(Object.entries({lCalf:y.default,lFoot:v.default,lForearm:w.default,lThigh:k.default,lUpper:E.default,rCalf:T.default,rFoot:K.default,rForearm:U.default,rThigh:j.default,rUpper:O.default,faces:M.default,phases:z.default}).map(function(r){var t=e(r,2),o=t[0],n=t[1];return new Promise(function(e){G[o]=new Image,G[o].addEventListener("load",e),G[o].src=n})})).then(ie);
},{"./style.scss":6,"./lib/constraints/distance-constraint":13,"./lib/geom/vec2":14,"./lib/input/mouse":15,"./lib/math":10,"./lib/physics/aggregate":16,"./lib/wave":11,"./lib/canvas":12,"./game/puppet":60,"./game/puppet/ankles":17,"./game/puppet/config":18,"./game/puppet/elbows":19,"./game/puppet/hips":20,"./game/puppet/knees":21,"./game/puppet/shoulders":22,"./game/puppet/wrists":23,"./images/moon-body/small/l-calf.png":24,"./images/moon-body/small/l-foot.png":25,"./images/moon-body/small/l-forearm.png":26,"./images/moon-body/small/l-thigh.png":27,"./images/moon-body/small/l-upper-arm.png":28,"./images/moon-body/small/r-calf.png":29,"./images/moon-body/small/r-foot.png":30,"./images/moon-body/small/r-forearm.png":31,"./images/moon-body/small/r-thigh.png":32,"./images/moon-body/small/r-upper-arm.png":33,"./images/moon-faces-small.png":7,"./images/moon-phases-small.png":8}]},{},[4])